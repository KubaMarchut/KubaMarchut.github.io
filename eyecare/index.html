
<!DOCTYPE html>
<html lang="pl">
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Jakub Marchut">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
    <title>Jakub Machut - Stoper</title>
</head>
<body>
    <div class="container">
        <h1>20 20 20 priniciple</h1>
        <p id="countdown">
        00:00
        </p>
        <button id="controlBTN">Start</button>
        <footer>Wykona≈Ç Jakub Marchut <i class="material-icons-outlined">info</i></footer>
    </div>

    <script>
      const btn = document.getElementById('controlBTN');
            startSound = new Audio('start.wav');
            endSound = new Audio('end.wav');
            display = document.getElementById('countdown');

      var s = 0;
          m = 0;
          tempS = 0;
          run = true;

      var addZero = function(num){
        if(num<10) num = '0'+num;
        return num;
      }

      var countTo = function(sec){
        var stoper = setInterval(function(){
          s++;
          tempS++;
          if(tempS == 60){
            m++;
            tempS = 0;
          }
          display.innerHTML =addZero(m)+':'+addZero(tempS);
          if(s>=sec){
            s = 0;
            m = 0;
            clearInterval(stoper);
            endSound.play();
          }
        }, 1000)
      }
      var twenty = function(){
        while (run) {
          countTo(1200);
          startSound.play();
          run = !run
        }
      }
      twenty();
    </script>
</body>
</html>
